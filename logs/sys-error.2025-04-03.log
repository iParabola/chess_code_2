2025-04-03 15:31:02 [redisson-3-5] ERROR c.r.c.websocket.utils.WebSocketUtils - [send] session(StandardWebSocketSession[id=3812d8b1-7db9-a0d4-a0e4-dedbb567bc11, uri=/resource/websocket?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpblR5cGUiOiJsb2dpbiIsImxvZ2luSWQiOiJhcHBfdXNlcjoxNzYzODAxMzI1NjQ2NzUzNzk0Iiwicm5TdHIiOiJQaFhZQkdNRjBkd1dQY2ZyTHVlWGN3SzJzbDVTOUplViIsInVzZXJJZCI6MTc2MzgwMTMyNTY0Njc1Mzc5NH0.h8rN4BjbsAo7iJ_abTsj9JZ1VW7XHZAhYeYbK0MXFqY&clientid=1763801325646753794]) 发送消息(TextMessage payload=[{"action":..], byteCount=331, last=true]) 异常
java.nio.channels.ClosedChannelException: null
	at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.safeToSend(AbstractFramedStreamSinkChannel.java:472)
	at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.write(AbstractFramedStreamSinkChannel.java:426)
	at org.xnio.channels.Channels.writeBlocking(Channels.java:147)
	at io.undertow.websockets.jsr.WebSocketSessionRemoteEndpoint$BasicWebSocketSessionRemoteEndpoint.sendText(WebSocketSessionRemoteEndpoint.java:283)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:215)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:104)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:96)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:39)
	at com.ruoyi.common.websocket.listener.WebSocketTopicListener.lambda$null$0(WebSocketTopicListener.java:27)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at com.ruoyi.common.websocket.listener.WebSocketTopicListener.lambda$run$2(WebSocketTopicListener.java:25)
	at com.ruoyi.common.utils.redis.RedisUtils.lambda$subscribe$0(RedisUtils.java:82)
	at org.redisson.PubSubMessageListener.onMessage(PubSubMessageListener.java:79)
	at org.redisson.client.RedisPubSubConnection.onMessage(RedisPubSubConnection.java:68)
	at org.redisson.client.handler.CommandPubSubDecoder$1.run(CommandPubSubDecoder.java:164)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
2025-04-03 16:19:47 [redisson-3-2] ERROR c.r.c.websocket.utils.WebSocketUtils - [send] session(StandardWebSocketSession[id=3812d8b1-7db9-a0d4-a0e4-dedbb567bc11, uri=/resource/websocket?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpblR5cGUiOiJsb2dpbiIsImxvZ2luSWQiOiJhcHBfdXNlcjoxNzYzODAxMzI1NjQ2NzUzNzk0Iiwicm5TdHIiOiJQaFhZQkdNRjBkd1dQY2ZyTHVlWGN3SzJzbDVTOUplViIsInVzZXJJZCI6MTc2MzgwMTMyNTY0Njc1Mzc5NH0.h8rN4BjbsAo7iJ_abTsj9JZ1VW7XHZAhYeYbK0MXFqY&clientid=1763801325646753794]) 发送消息(TextMessage payload=[{"action":..], byteCount=332, last=true]) 异常
java.nio.channels.ClosedChannelException: null
	at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.safeToSend(AbstractFramedStreamSinkChannel.java:472)
	at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.write(AbstractFramedStreamSinkChannel.java:426)
	at org.xnio.channels.Channels.writeBlocking(Channels.java:147)
	at io.undertow.websockets.jsr.WebSocketSessionRemoteEndpoint$BasicWebSocketSessionRemoteEndpoint.sendText(WebSocketSessionRemoteEndpoint.java:283)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:215)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:104)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:96)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:39)
	at com.ruoyi.common.websocket.listener.WebSocketTopicListener.lambda$null$0(WebSocketTopicListener.java:27)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at com.ruoyi.common.websocket.listener.WebSocketTopicListener.lambda$run$2(WebSocketTopicListener.java:25)
	at com.ruoyi.common.utils.redis.RedisUtils.lambda$subscribe$0(RedisUtils.java:82)
	at org.redisson.PubSubMessageListener.onMessage(PubSubMessageListener.java:79)
	at org.redisson.client.RedisPubSubConnection.onMessage(RedisPubSubConnection.java:68)
	at org.redisson.client.handler.CommandPubSubDecoder$1.run(CommandPubSubDecoder.java:164)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
2025-04-03 16:23:09 [redisson-3-2] ERROR c.r.c.websocket.utils.WebSocketUtils - [send] session(StandardWebSocketSession[id=3812d8b1-7db9-a0d4-a0e4-dedbb567bc11, uri=/resource/websocket?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpblR5cGUiOiJsb2dpbiIsImxvZ2luSWQiOiJhcHBfdXNlcjoxNzYzODAxMzI1NjQ2NzUzNzk0Iiwicm5TdHIiOiJQaFhZQkdNRjBkd1dQY2ZyTHVlWGN3SzJzbDVTOUplViIsInVzZXJJZCI6MTc2MzgwMTMyNTY0Njc1Mzc5NH0.h8rN4BjbsAo7iJ_abTsj9JZ1VW7XHZAhYeYbK0MXFqY&clientid=1763801325646753794]) 发送消息(TextMessage payload=[{"action":..], byteCount=330, last=true]) 异常
java.nio.channels.ClosedChannelException: null
	at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.safeToSend(AbstractFramedStreamSinkChannel.java:472)
	at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.write(AbstractFramedStreamSinkChannel.java:426)
	at org.xnio.channels.Channels.writeBlocking(Channels.java:147)
	at io.undertow.websockets.jsr.WebSocketSessionRemoteEndpoint$BasicWebSocketSessionRemoteEndpoint.sendText(WebSocketSessionRemoteEndpoint.java:283)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:215)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:104)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:96)
	at com.ruoyi.common.websocket.utils.WebSocketUtils.sendMessage(WebSocketUtils.java:39)
	at com.ruoyi.common.websocket.listener.WebSocketTopicListener.lambda$null$0(WebSocketTopicListener.java:27)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at com.ruoyi.common.websocket.listener.WebSocketTopicListener.lambda$run$2(WebSocketTopicListener.java:25)
	at com.ruoyi.common.utils.redis.RedisUtils.lambda$subscribe$0(RedisUtils.java:82)
	at org.redisson.PubSubMessageListener.onMessage(PubSubMessageListener.java:79)
	at org.redisson.client.RedisPubSubConnection.onMessage(RedisPubSubConnection.java:68)
	at org.redisson.client.handler.CommandPubSubDecoder$1.run(CommandPubSubDecoder.java:164)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
